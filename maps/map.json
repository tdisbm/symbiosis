{
  "handshake" : {
    "identifier" : "type",
    "storage" : "name",
    "room" : "email"
  },

  "nodes" : ["device", "user"],

  "streams" : {
    "device-to-user" : {
      "data-to" : ["user"],
      "data-from" : ["device"],
      "socket-events" : ["message"],
      "propagation" : {
        "type" : "interval",
        "timeout" : 3000,
        "condition" : {
          "start-on" : "user:hasSockets:true",
          "stop-on"  : "user:hasSockets:false"
        }
      }
    }
  },
  "triggers" : {
    "gpio" : {
      "data-to" : ["device"],
      "data-from" : ["user"],
      "data-to-one" : {
        "identifier" : "name"
      },
      "socket-events" : ["set-gpio-mask"]
    }
  }
}